#!/usr/bin/env python3
import i3ipc
import sys

i3 = i3ipc.Connection()
group_prefix = "cwm_group_"

def add_to_group():
    """Mark the focused window with a unique identifier."""
    focused = i3.get_tree().find_focused()
    if focused:
        unique_mark = f"{group_prefix}{focused.id}"
        i3.command(f"mark --add {unique_mark}")
    else:
        print("No focused window.")

if len(sys.argv) < 3:
    print("Usage: {sway-marks}")
    sys.exit(1)

if sys.argv[1] == "--group":
    add_to_group()
else:
    print("Invalid command. Use 'add', 'next', or 'toggle'.")
